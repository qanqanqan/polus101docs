# Что такое запросы и как они работают?

**Откуда в вашем браузере появляется информация, когда вы заходите на какой то сайт?**

1. Когда вы заходите на какой то сайт, ваш компьютер посылает запрос на получение информации с этого сайта ("ХОЧУ ПОЛУЧИТЬ СТРАНИЧКУ САЙТА")
2. Сайт находится на сервере (сервер - такой же компьютер, только работает бесперерывно и обрабатывает запросы)
3. Сервер видит запрос вашего компьютера и посылает обратно нужную вам страничку
4. Ваш Компьютер получает страничку и отображает ее в браузере

Вся эта схема выглядит примерно так: 
<img src="https://github.com/Polus101/resources/blob/master/Encyclopedia/API/img/requests_1_ex.png"/>

**Все сайты находятся на одном сервере? Или откуда компьютер знает, на какой сервер делать запрос?**

На самом деле каждый сайт находится на своем отдельном сервере или серверном пространстве (выделенном кусочке сервера).
А ваш компьютер понимает, на какой сервер делать запрос с помощью ссылок

Посмотрите, как выглядит ссылка на страничку в вк:
`https://vk.com/durov`

Здесь:
- `vk.com` - адрес хоста (адрес сервера). Можете считать названием сервера для простоты понимания
- А `durov` - адрес страницы. Можете считать, что это название страницы на сервере

Так вот ваш компьютер именно по ссылке понимает, на какой сервер отправлять запрос и что у сервера просить

Так что более полно схема выглядит так: 
<img src="https://github.com/Polus101/resources/blob/master/Encyclopedia/API/img/requests_2_ex.png"/>

## Как же сделать запрос с помощью Python?
Тут все просто - вот стандартный код запроса:
```python
import requests

url = "Ссылка на сайт"

response = requests.get(url)
response.raise_for_status()
print(response)
```

**Теперь разбираемся**
- `import requests` импортирует библиотеку requests для работы с запросами
- `response = requests.get(url)` делает запрос `requests.get` по ссылке `url` и когда придет ответ, то он запишется в переменную `response`
- `response.raise_for_status()` стандартная строчка - проверка на ошибки от сервера. Если ее не написать, то ошибки, которые могут возникнуть на сервере, видно не будет. Желательно писать всегда!
- `print(response)` принтит наш ответ

### Форматы ответов
Если вы запустите код выше, то увидите в лучшем случае в консоли `Response 200`

Все дело в формате ответа

Вот основные форматы ответов:
- `print(response)` - выведет код ответа (200 - хорошо, остальное неочень)
- `print(response.text)`- ответ в виде текста
- `print(response.json())`- ответ в виде словарей или списков

